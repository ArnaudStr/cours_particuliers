{% extends 'base.html.twig' %}

{% block title %}Informations de {{ prof }} !{% endblock %}

{% block body %}


<!-- USER PROFILE SECTION -->
<section class="user-profile-section bg-light">
    <div class="container">
      <div class="user-profile">
        <div class="row">
          <div class="col-xs-12 col-sm-4">
            <div class="user-img">
                <img src="/assets/pictures/{{ prof.pictureFilename }}" alt="Image User" class="img-circle">
            </div>
          </div>
          <div class="col-xs-12 col-sm-4">
            <div class="user-profile-content">
              <h3 class="user-name">{{ prof }}  </h3>                                
                   <span> {% if nbEtoiles >= 1 %}
                        {% for i in 1..nbEtoiles %}
                            <i class="fas fa-star"></i>
                        {% endfor %}
                    {% endif %}
        
                    {% if nbEtoiles != 5 %}         
                        {% for i in nbEtoiles .. 4 %}
                            <i class="far fa-star"></i>
                        {% endfor %}
                    {% endif %}
                </span>
               
              <ul class="user-contact-details">
                <li><i class="fa fa-envelope" aria-hidden="true"></i><a href="#">{{ prof.email }}</a></li>
              </ul>
              <a href="#"><div class="verified-user">Contacter</div></a>
            </div>
          </div>
          <div class="col-xs-12 col-sm-4">
            <div class="user-profile-content">
                <h3 class="user-name">Cours enseignes :</h3>                                
                {% for cours in prof.coursS  %}
                    <p>{{ cours }}</p>
                {% endfor %}                
            </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <div class="listContentHeading">
            <h2>Description / Parcours</h2>
          </div>
            <div class="listContent">
                <div class="row">
                    <p>{{ prof.description }}</p>
                </div>
            </div>
          <div class="row">
            <div class="col-xs-12">
              <div class="review-aria">
                <div class="reviewContent">
                  <h3 class="reviewTitle">
                    Avis ({{ prof.avis|length }})
                  </h3>
  
                  {% if prof.avis %}
                      
                    <div class="reviewMedia">
                        <ul class="media-list">
                        {% for avis in prof.avis %}
                            <li class="media">
                                <div class="media-left">
                                <a href="#">
                                    <img class="media-object" src="/assets/pictures/{{ avis.eleve.pictureFilename }}" alt="Image">
                                </a>
                                </div>
                                <div class="media-body">
                                <h5>{{ avis.eleve }}</h5>
                                <span>
                                    {% if avis.note >= 1 %}
                                        {% for i in 1..avis.note %}
                                            <i class="fas fa-star"></i>
                                        {% endfor %}
                                    {% endif %}
                        
                                    {% if avis.note != 5 %}         
                                        {% for i in avis.note .. 4 %}
                                            <i class="far fa-star"></i>
                                        {% endfor %}
                                    {% endif %}
                                </span>
                                <p>{{ avis.commentaire }}</p>
                                </div>
                            </li>
                        {% endfor %}
                        </ul>
                    </div>
                  {% endif %}

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
    <!-- <h1>Votre profil</h1> -->
    {#<div class="upPp">
        <div class="photoPp">
            <img class="profile_pic" src="/assets/pictures/{{ prof.pictureFilename }}" alt="">
        </div>
        <div class="coordonneesPp">
            <p>{{ prof }}</p>
            {% if is_granted('ROLE_ELEVE') %}
                <p><a href="{{ path('conversation_eleve', { 'idProf':prof.id, 'idEleve':app.user.id }) }}">Contacter</a></p>
            {% endif %}
        </div>
        <div class="infosDroite">
            {% if prof.noteMoyenne %}
                <h3>Note : {{ prof.noteMoyenne }}</h3>
            {% endif %}
            
            <!-- Affichage des étoiles en fonction de la note -->
            {% if nbEtoiles %}
                {% if nbEtoiles >= 1 %}
                    {% for i in 1..nbEtoiles %}
                        <!-- Etoiles pleines -->
                        <i class="fas fa-star"></i>
                    {% endfor %}
                {% endif %}

                {% if nbEtoiles != 5 %}         
                    {% for i in nbEtoiles .. 4 %}
                        <!-- Etoiles vides -->
                        <i class="far fa-star"></i>
                    {% endfor %}
                {% endif %}
            {% endif %}

            {% if prof.coursS %}
                <h3>Cours proposés :</h3>
                {% for cours in prof.coursS %}
                    {{ cours }}
                {% endfor %}
            {% endif %}

            {#{% for avis in app.user.avis %}
                <p>{{ avis.eleve }}</p>
                <p>{{ avis.commentaire }}</p>
            {% endfor %}
        </div>

        {% if prof.avis %}
            <!-- Slideshow container -->
            <div class="slideshow-container">
                {% for avis in prof.avis %}
                    <div class="mySlides">
                        <p>{{ avis.eleve }}</p>
                        <p>{{ avis.commentaire }}</p>
                    </div>
                {% endfor %}
                <!-- Full-width images with number and caption text -->
                <!-- Next and previous buttons -->
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>
        {% endif %}

    </div>
    <div class="descriptionPp">
    </div> #}
      
{% endblock %}

{% block javascripts %}
<!-- <script>

    var slideIndex = 1;
    showSlides(slideIndex);
    
    // Next/previous controls
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }
    
    // Thumbnail image controls
    function currentSlide(n) {
        showSlides(slideIndex = n);
    }
    
    function showSlides(n) {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        var dots = document.getElementsByClassName("dot");
        if (n > slides.length) {slideIndex = 1}
        if (n < 1) {slideIndex = slides.length}
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
    }
</script> -->
{% endblock %}